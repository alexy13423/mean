var app=angular.module("mainApp",["ui.router","templates"]);app.config(["$stateProvider","$urlRouterProvider",function(e,r){e.state("emailVerify",{url:"/emailVerify",templateUrl:"emailVerify.html",controller:"MainCtrl"}).state("resetPassword",{url:"/resetPassword/:username/:user_token",templateUrl:"resetPassword.html",controller:"ResetCtrl"})}]),app.controller("MainCtrl",["$scope","$location",function(e){e.verifyEmail=function(){confirmEmail.confirm(e.verify).error(function(r){e.error=r,e.showSuccessAlert=!0}).then(function(){window.location="http://localhost:3000/user/#/home"})}}]),app.controller("ResetCtrl",["$scope","$location",function(e){e.resetPassword=function(){resetPassword.set(e.user).error(function(r){e.error=r,e.showSuccessAlert=!0})}}]),app.factory("confirmEmail",["$http","$window",function(e,r){var t={};return t.confirm=function(r){return e.put("/api/emailverify/:username/:token").success(function(e){})},t}]),app.factory("resetPassword",["$http","$window",function(e,r){var t={};return t.reset=function(r){return e.get("/resetPassword/:username/:user_token").success(function(e){})},t.set=function(r){return e.get("/resetPassword/:username/:user_token").success(function(e){})},t}]);