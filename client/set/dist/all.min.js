var app=angular.module("mainApp",["ui.router","templates"]);app.config(["$stateProvider","$urlRouterProvider",function(e,r){e.state("emailVerify",{url:"/emailVerify",templateUrl:"emailVerify.html",controller:"MainCtrl"}).state("resetPassword",{url:"/resetPassword/:username/:token",templateUrl:"resetPassword.html",controller:"ResetCtrl"})}]),app.controller("MainCtrl",["$scope","$location",function(e){}]),app.controller("ResetCtrl",["$scope","$state","verification",function(e,r,s){e.submitPassword=function(t){console.log(r.params.username),console.log(r.params.token),console.log(e.user.password),console.log(e.user.repeat_password),s.updatePassword(t,r.params.username,r.params.token,e.user.password).success(function(){}).error(function(r){e.error=r,e.showSuccessAlert=!0})}}]),app.factory("verification",["$http","$window",function(e,r){return{getUser:function(r,s,t){return e.get("/resetPassword/"+s+"/"+t).success(function(e){return e})},emailVerify:function(r,s,t){return e.put("/api/emailverify/"+s+"/"+t).success(function(e){})},updatePassword:function(r,s,t,o){return e.put("/api/resetPassword/"+s+"/"+t).success(function(e){console.log("Success!")})}}}]);