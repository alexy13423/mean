<!-- META DATA -->
<form name="dietMetaData" ng-submit="saveDiet()" style="margin-top:30px;">
  <div class="col-sm-6">
    <div class="form-group col-sm-12">
      Title
      <input type="text" class="form-control" placeholder="Title" 
        ng-model="item.name" required>
    </div>
    <div class="form-group col-sm-6">
      Hashtag
      <input type="text" class="form-control" placeholder="Hashtag" 
        ng-model="item.hashtag">
    </div>
    <div class="form-group col-sm-6">
      Price
      <input type="text" class="form-control" placeholder="Price" 
        ng-model="item.price" required>
    </div>
    <div class="form-group col-sm-6">
      Duration
      <input type="text" class="form-control" placeholder="Duration" 
        ng-model="item.duration">
    </div>
    <div class="form-group col-sm-6">
      Type
      <input type="text" class="form-control" placeholder="Type" 
        ng-model="item.category">
    </div>
    <div class="form-group col-sm-6">
      Demographic Gender
      <input type="text" class="form-control" placeholder="Demo Gender" 
        ng-model="item.gender">
    </div>
    <div class="form-group col-sm-3">
      Age Range
      <input type="number" class="form-control" placeholder="Min Age" 
        ng-model="item.minage">
    </div>
    <div class="form-group col-sm-3">
      &nbsp;
      <input type="number" class="form-control" placeholder="Max Age" 
        ng-model="item.maxage">
    </div>
  </div>

  <div class="upload-photo col-sm-3">
    <span class="upload-photo-title">Upload Item Pic</span></div>
  <div class="upload-photo col-sm-3">
    <span class="upload-photo-title">Upload Cover Photo</span></div>

  <div class="form-group col-sm-12">
    <textarea class="form-control" placeholder="Description" row="8"
      ng-model="item.description"></textarea>
  </div>

  <button type="submit" class="diet-create col-sm-12 btn-default">{{item._id? 'Save Changes' : 'Create'}}</button>
</form>

<item-meta class="col-sm-6" data="item" options="options[0]"></item-meta>
<item-meta class="col-sm-6" data="item" options="options[1]"></item-meta>


<!-- Meal Itinerary -->
<div class="diet-days col-sm-12" ng-show="item._id">
  <div ng-repeat="day in item.days">
    <h3>Day {{ $index+1 }} - <input type="text" placeholder="title" ng-model="viewingDay.title">
      <button class="meal-day-btn btn-primary" ng-click="decrementDay()"><i class="fa fa-arrow-left"></i></button>
      <button class="meal-day-btn btn-primary" ng-click="incrementDay()"><i class="fa fa-arrow-right"></i></button>
      <button class="meal-add-btn btn-primary" ng-click="initMeal()">Add a meal <i class="fa fa-plus"></i></button>
  </h3>

  <!-- meal creation -->
  <div class="{{$index+1 === mealIndex? null : 'hidden'}}" ng-repeat="meal in viewingDay.meals">
    <!-- meal header -->
    <div class="col-sm-12">
      <h3 class="col-sm-10"><span class="diet-title">
        Meal {{$index+1}} - Day {{ dayIndex }} of {{ item.duration }}</span>
      </h3>
      <div class="col-sm-2">
        <button class="meal-day-btn btn-primary" ng-click="decrementMeal()"><i class="fa fa-arrow-left"></i></button>
        <button class="meal-day-btn btn-primary" ng-click="incrementMeal()"><i class="fa fa-arrow-right"></i></button>
      </div>
    </div>

    <!-- meal editor -->
    <form ng-submit="saveMeal()" class='col-sm-12'>
      <div class="col-sm-6">
        <div class="form-group col-sm-12">
          <input type="text" class="form-control" placeholder="Title"
            ng-model="meal.name">
        </div>
        <div class="form-group col-sm-6">
          <input type="text" class="form-control" placeholder="Type"
            ng-model="meal.type">
        </div>
        <div class="form-group col-sm-6">
          <input type="text" class="form-control" placeholder="Cook Time"
          ng-model="meal.time">
        </div>
      </div>

      <div class="col-sm-6">
        <div class="form-group col-sm-12">
          <textarea 
            class="form-control"
            placeholder="Description"
            ng-model="meal.description" row="10">
          </textarea>
        </div>
      </div>

      <add-widget set="meal.recipes" options="addWidgetOptions['recipe']" save="saveMeal()" init="initRecipe()">
        <add-widget-items> 
          {{recipe.name}}<br/>
          {{recipe.yield}} Servings
        </add-widget-items>
        <add-widget-form class="col-sm-6"></add-widget-form>
        <add-widget-plus class="col-sm-6"></add-widget-plus>
      </add-widget>


      <button type="submit" class="form-control btn-default">Save Meal</button>
    </form>
  </div> <!-- end meal creator -->




  <!-- <recipe-creator ng-show="recipe"></recipe-creator> -->

</div> <!-- end row -->

<div class="row">
  <div class="col-sm-12" style="margin-top: 50px">
    ViewingDay <pre>{{viewingDay|json}}</pre>
  </div>
  <div class="col-sm-12" style="margin-top: 50px">
    <div class="col-sm-4"> Meal <pre>{{meal|json}}</pre> </div>
    <div class="col-sm-4"> Recipe <pre>{{recipe|json}}</pre> </div>
    <div class="col-sm-4"> Ingredient <pre>{{ingredient|json}}</pre> </div>
  </div>
  <div class="col-sm-12" style="margin-top: 50px">
    Item <pre>{{item|json}}</pre>
  </div>
</div><!-- diet plan meta -->
